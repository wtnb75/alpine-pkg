# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=erofs-utils
pkgver=1.5
pkgrel=0
pkgdesc="${pkgname} includes user-space tools for EROFS filesystem"
url="https://git.kernel.org/pub/scm/linux/kernel/git/xiang/${pkgname}.git"
arch="all"
license="GPLv2"
depends=""
makedepends="lz4-dev util-linux-dev"
install=""
subpackages="$pkgname-doc"
source="https://git.kernel.org/pub/scm/linux/kernel/git/xiang/${pkgname}.git/snapshot/${pkgname}-${pkgver}.tar.gz 0000-alpine.patch"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	sh autogen.sh
	./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc --mandir=/usr/share/man
	make
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install DESTDIR=$pkgdir
}
sha512sums="
0a9d593a9fef3c5976dc63e2927f47d070121ed07e6dda727b0a715b72cfe560c83bdf26ce41fe07b8cb5b66b0660105848e3f7c5a84f222296eb422d1cd5cba  erofs-utils-1.5.tar.gz
b226ee32dd2724b9306257cf525110487d9b093480dd50411334ec20f2fae725f02d9c01911400e5bafed32cb3c6788d2a07ee590f8fcfd50e53676d036fdad4  0000-alpine.patch
"
