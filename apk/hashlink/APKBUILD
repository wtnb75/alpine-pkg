# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=hashlink
pkgver=1.13
pkgrel=0
pkgdesc="A virtual machine for Haxe"
url="https://hashlink.haxe.org/"
arch="all"
license="MIT"
depends=""
makedepends="jpeg-dev libpng-dev libvorbis-dev openal-soft-dev sdl2-dev mbedtls-dev libuv-dev glu-dev sqlite-dev pcre-dev"
install=""
subpackages="$pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/HaxeFoundation/$pkgname/archive/refs/tags/$pkgver.tar.gz 0001-alpine.patch"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	make
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install PREFIX=$pkgdir/usr
}
sha512sums="
b41373e5c4256fe5217d352f642a860309f6bc89c487214296270166862cbf4a84bc0e060fe29edc7972460d15b31ba5b489d50cd04307d760b0524bb012ab34  hashlink-1.13.tar.gz
aff7de03120de2c5d555902eb3ee1a866514424ed9ce8de5118c5ea62b08b00b8a83d713f5191599ce720896d83c943786eee69e1d30f5ee51c10bbf3c7b0fa2  0001-alpine.patch
"
