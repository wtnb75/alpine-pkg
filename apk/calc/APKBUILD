# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=calc
pkgver=2.14.0.13
pkgrel=0
pkgdesc="arbitrary precision calculator"
url="http://isthe.com/chongo/tech/comp/calc/"
arch="all"
license="LGPL"
depends=""
makedepends="util-linux"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://isthe.com/chongo/src/calc/calc-$pkgver.tar.bz2 arg-fix.patch"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
	cd "$builddir"
	# make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' hsrc
	make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' ARCH_CFLAGS= -j1
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install T=$pkgdir
}

sha512sums="
1ed4315899aed4bca31ad31a913a481ac564acda44ed272540e5042a6d67374fecbbb364cb83155998545f37405f671342c6446194ce800ff2b1aa1e7e9ed95b  calc-2.14.0.13.tar.bz2
8c7c7a7d175eea72af721d2bc4a5d7c0036f55fa0f7ff8017517a9f1b8d2284e345e10f622a4de3800c5741033396a9ca307cceda2747782a7fb7d4883a710c2  arg-fix.patch
"
