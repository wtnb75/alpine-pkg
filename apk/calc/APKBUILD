# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=calc
pkgver=2.14.0.10
pkgrel=0
pkgdesc="arbitrary precision calculator"
url="http://isthe.com/chongo/tech/comp/calc/"
arch="all"
license="LGPL"
depends=""
makedepends="util-linux"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://isthe.com/chongo/src/calc/calc-$pkgver.tar.bz2 arg-fix.patch"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
	cd "$builddir"
	# make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' hsrc
	make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' ARCH_CFLAGS= -j1
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install T=$pkgdir
}

sha512sums="
e0315d218bc7f16c901482d9491354d2b86cef564d79c118d47643d3fb88cbd213f6576d4ee45b3ad66c75e2c6c2083da2c9e0a4124e0d29365cc543d3207c77  calc-2.14.0.10.tar.bz2
8c7c7a7d175eea72af721d2bc4a5d7c0036f55fa0f7ff8017517a9f1b8d2284e345e10f622a4de3800c5741033396a9ca307cceda2747782a7fb7d4883a710c2  arg-fix.patch
"
