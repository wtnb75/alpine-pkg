# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=calc
pkgver=2.14.0.14
pkgrel=0
pkgdesc="arbitrary precision calculator"
url="http://isthe.com/chongo/tech/comp/calc/"
arch="all"
license="LGPL"
depends=""
makedepends="util-linux readline-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://isthe.com/chongo/src/calc/calc-$pkgver.tar.bz2 arg-fix.patch"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
	cd "$builddir"
	# make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' hsrc
	make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' ARCH_CFLAGS= -j1
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install T=$pkgdir
}

sha512sums="
0fbafa737633ca1c1c20e5fc5db5773ce605a8bd0b46d569426d65d571d06d870cf16d2ec523622eb3e2dd9ef8c97fa11ecbf31b45ab9b6c7aca76da7396c61e  calc-2.14.0.14.tar.bz2
8c7c7a7d175eea72af721d2bc4a5d7c0036f55fa0f7ff8017517a9f1b8d2284e345e10f622a4de3800c5741033396a9ca307cceda2747782a7fb7d4883a710c2  arg-fix.patch
"
