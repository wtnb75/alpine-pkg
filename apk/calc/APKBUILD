# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=calc
pkgver=2.14.0.3
pkgrel=0
pkgdesc="arbitrary precision calculator"
url="http://isthe.com/chongo/tech/comp/calc/"
arch="all"
license="LGPL"
depends=""
makedepends="util-linux"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://isthe.com/chongo/src/calc/calc-$pkgver.tar.bz2 arg-fix.patch"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
	cd "$builddir"
	# make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' hsrc
	make EXTRA_CFLAGS='-DFPOS_POS_LEN=FILEPOS_LEN' ARCH_CFLAGS= -j1
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"
	make install T=$pkgdir
}

sha512sums="
81e2fecf536a2eef59597183eb56a3d7daa61a919e9ede48d511f498889dfb09a6bc301304e9d092a04a9475669e6e56f057814b7f5767996ee12e46b18827c6  calc-2.14.0.3.tar.bz2
8c7c7a7d175eea72af721d2bc4a5d7c0036f55fa0f7ff8017517a9f1b8d2284e345e10f622a4de3800c5741033396a9ca307cceda2747782a7fb7d4883a710c2  arg-fix.patch
"
