# Contributor: Watanabe Takashi <wtnb75@gmail.com>
# Maintainer:
pkgname=wangle
pkgver=2021.07.22.00
pkgrel=0
pkgdesc="framework providing a set of common client/server abstractions"
url="https://github.com/facebook/wangle"
arch="all"
license="Apache-2.0"
depends=""
makedepends="cmake fizz-dev folly-dev openssl-dev double-conversion-dev glog-dev"
install=""
subpackages="$pkgname-dev"
source="${pkgname}-${pkgver}.tar.gz::https://github.com/facebook/${pkgname}/archive/refs/tags/v${pkgver}.tar.gz"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"
	mkdir _build
	cd _build
	cmake ../wangle -DCMAKE_INSTALL_PREFIX=/usr -DPACKAGE_VERSION=${pkgver}
	make
}

check() {
	# Replace with proper check command(s)
	:
}

package() {
	cd "$builddir"/_build
	make install DESTDIR=$pkgdir
}
sha512sums="
f110b8e303ba8b61a1b8e44fc02d64489194c72cbf063907353731a2731c2d63d82e70dc4e6c0f8eb88bbd1f520d427eccad1777c751bcd53be3409ba91aeff1  wangle-2021.07.19.00.tar.gz
"
sha512sums="2a6bb14c984b41fb476cf2e4f110726d1d4a4161a010bbca23d593467861a860a3e0c2dfb4a16c62c7120c957b9358ee188e0c1b720c0d8c1609bba7044dd966  wangle-2021.07.22.00.tar.gz"
